#   DNS LOOKUP   #

'''
The purpose of this program is for someone to type in a domain name (such as google.com, or facebook.com) and get all the nslookup
queries associated with that domain. 
'''

import os
from subprocess import *
from sys import *


def dns_lookup(ip, dnslog):
	dnslog = open("dnslog.txt", "w") 
	
	basic_cmds = ["nslookup", ip]
	settype_mx = ["set type=mx", ip]
	settype_soa = ["set type=soa", ip] 
	
	dnslookup = [basic_cmds, settype_mx] #, settype_soa]
	
	for i in dnslookup:
		Popen(i, 0, None, None) # args, buffersize,[] stdin, stdout, stderr
		dnslog.write(str(i))
		
		
	dnslog.close()
	
	
	
def main():
	dnslog = open("dnslog.txt", "w")
	target = raw_input("Target: ")
	dns_lookup(target, dnslog)
	
	return
	
main()
